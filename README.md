# ü§ñ –ò–ò-–ì–î–ó Telegram Bot

Telegram-–±–æ—Ç –¥–ª—è —Ä–µ—à–µ–Ω–∏—è –¥–æ–º–∞—à–Ω–∏—Ö –∑–∞–¥–∞–Ω–∏–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –∏—Å–∫—É—Å—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç–∞.

## ‚ú® –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üìù –†–µ—à–µ–Ω–∏–µ –∑–∞–¥–∞–Ω–∏–π –∏–∑ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö —Å–æ–æ–±—â–µ–Ω–∏–π
- üì∑ –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞ —Å —Ñ–æ—Ç–æ/—Å–∫—Ä–∏–Ω—à–æ—Ç–æ–≤ (OCR)
- üéì –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —à–∫–æ–ª—å–Ω—ã—Ö –ø—Ä–µ–¥–º–µ—Ç–æ–≤
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- üíæ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ SQLite

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- Python 3.10+
- aiogram 3.x (Telegram Bot API)
- aiosqlite (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è —Ä–∞–±–æ—Ç–∞ —Å SQLite)
- pytesseract + Pillow (OCR)
- aiohttp (HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ AI API)

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –°–æ–∑–¥–∞—ë–º –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º (Windows)
venv\Scripts\activate

# –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º (Linux/Mac)
source venv/bin/activate

# –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Tesseract OCR

**Windows:**
1. –°–∫–∞—á–∞–π —É—Å—Ç–∞–Ω–æ–≤—â–∏–∫: https://github.com/UB-Mannheim/tesseract/wiki
2. –£—Å—Ç–∞–Ω–æ–≤–∏ —Å —è–∑—ã–∫–æ–≤—ã–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏ (Russian + English)
3. –î–æ–±–∞–≤—å –ø—É—Ç—å –≤ PATH: `C:\Program Files\Tesseract-OCR`

**Linux (Ubuntu/Debian):**
```bash
sudo apt update
sudo apt install tesseract-ocr tesseract-ocr-rus tesseract-ocr-eng
```

**macOS:**
```bash
brew install tesseract tesseract-lang
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π —Ñ–∞–π–ª `.env`:

```env
# Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
BOT_TOKEN=your_telegram_bot_token_here

# AI API Configuration
AI_API_KEY=your_ai_api_key_here
AI_API_URL=https://api.openai.com/v1/chat/completions
AI_MODEL=gpt-3.5-turbo
```

### 4. –ó–∞–ø—É—Å–∫ –±–æ—Ç–∞

```bash
python bot.py
```

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ AI API

–ë–æ—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ–æ—Ä–º–∞—Ç OpenAI API, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è –º–Ω–æ–≥–∏–º–∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏:

### OpenAI (GPT-3.5/GPT-4)
```env
AI_API_URL=https://api.openai.com/v1/chat/completions
AI_API_KEY=sk-...
AI_MODEL=gpt-3.5-turbo
```

### Anthropic Claude (—á–µ—Ä–µ–∑ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π endpoint)
```env
AI_API_URL=https://api.anthropic.com/v1/messages
AI_API_KEY=sk-ant-...
AI_MODEL=claude-3-sonnet-20240229
```

### –õ–æ–∫–∞–ª—å–Ω—ã–µ –º–æ–¥–µ–ª–∏ (Ollama)
```env
AI_API_URL=http://localhost:11434/v1/chat/completions
AI_API_KEY=ollama
AI_MODEL=llama2
```

### Together AI
```env
AI_API_URL=https://api.together.xyz/v1/chat/completions
AI_API_KEY=...
AI_MODEL=mistralai/Mixtral-8x7B-Instruct-v0.1
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
gdz_bot/
‚îú‚îÄ‚îÄ bot.py              # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ .env                # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ
‚îú‚îÄ‚îÄ handlers/           # –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–æ–±—â–µ–Ω–∏–π
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ start.py        # /start, /help
‚îÇ   ‚îú‚îÄ‚îÄ text.py         # –¢–µ–∫—Å—Ç–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ image.py        # –§–æ—Ç–æ –∑–∞–¥–∞–Ω–∏—è
‚îÇ
‚îú‚îÄ‚îÄ services/           # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ ai_service.py   # –†–∞–±–æ—Ç–∞ —Å AI API
‚îÇ   ‚îú‚îÄ‚îÄ ocr_service.py  # –†–∞—Å–ø–æ–∑–Ω–∞–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
‚îÇ   ‚îî‚îÄ‚îÄ db_service.py   # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ
‚îú‚îÄ‚îÄ keyboards/          # –ö–ª–∞–≤–∏–∞—Ç—É—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îî‚îÄ‚îÄ main.py
‚îÇ
‚îî‚îÄ‚îÄ database/           # SQLite –±–∞–∑–∞ (—Å–æ–∑–¥–∞—ë—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
    ‚îî‚îÄ‚îÄ gdz.db
```

## üöÄ –í–æ–∑–º–æ–∂–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

1. **–ü–ª–∞—Ç–Ω—ã–µ –ª–∏–º–∏—Ç—ã** - –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –¥–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
2. **–í—ã–±–æ—Ä –ø—Ä–µ–¥–º–µ—Ç–∞** - inline-–∫–Ω–æ–ø–∫–∏ –¥–ª—è –≤—ã–±–æ—Ä–∞ –ø—Ä–µ–¥–º–µ—Ç–∞
3. **–í—ã–±–æ—Ä –∫–ª–∞—Å—Å–∞** - –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —É—Ä–æ–≤–Ω—è —Å–ª–æ–∂–Ω–æ—Å—Ç–∏ –æ—Ç–≤–µ—Ç–æ–≤
4. **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –æ—Ç–≤–µ—Ç–æ–≤ –Ω–∞ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –∑–∞–¥–∞–Ω–∏—è
5. **Anti-spam** - –∑–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞ (rate limiting)
6. **–ò—Å—Ç–æ—Ä–∏—è** - –ø—Ä–æ—Å–º–æ—Ç—Ä –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
7. **–ü–æ–¥–ø–∏—Å–∫–∞** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –ø–ª–∞—Ç—ë–∂–Ω—ã–º–∏ —Å–∏—Å—Ç–µ–º–∞–º–∏

## ‚ö†Ô∏è –í–∞–∂–Ω–æ

- –ù–µ —Ö—Ä–∞–Ω–∏ API –∫–ª—é—á–∏ –≤ –∫–æ–¥–µ
- –†–µ–≥—É–ª—è—Ä–Ω–æ –¥–µ–ª–∞–π –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –°–ª–µ–¥–∏ –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏ AI API
- Tesseract –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –æ—Ç–¥–µ–ª—å–Ω–æ

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License
